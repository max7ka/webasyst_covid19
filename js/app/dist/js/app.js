(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],u=0,h=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block main-content"},[a("div",{staticClass:"flex flex-end"},[a("a",{staticClass:"button green",staticStyle:{height:"20px"},attrs:{href:"#"},on:{click:t.updateData}},[t._v("Обновить")])]),a("transition",{attrs:{name:"fade"}},[0==t.ChatAllDayAgo.stat.error&&0==t.ChatContinent.error?a("div",{staticClass:"block"},[a("ul",{staticClass:"tabs"},t._l(t.tabs.items,(function(e,n){return a("li",{key:"tab"+n,class:{selected:n==t.tabs.selectedIndex}},[a("a",{attrs:{href:"#"},on:{click:function(e){return t.tabClick(t.tabs,n)}}},[t._v(t._s(e.name))])])})),0),a("div",{staticClass:"tab-content"},[a("transition",{attrs:{name:"slide-fade"}},[0==t.tabs.selectedIndex?a("div",{staticClass:"block flex row",staticStyle:{position:"absolute"}},[a("div",{staticClass:"flex column"},[a("div",{staticStyle:{"text-align":"center",padding:"10px"}},[a("strong",[t._v("Статистика за один день")])]),a("div",{staticClass:"flex row",staticStyle:{height:"70vh",width:"95vw"}},[a("stat",{staticClass:"grow1",attrs:{data:t.ChatAllDayAgo.stat}}),a("apexchart",{staticClass:"grow1",attrs:{type:"donut",width:"100%",height:"100%",options:t.ChatAllDayAgo.chartOptions,series:t.ChatAllDayAgo.series}})],1)])]):t._e()]),a("transition",{attrs:{name:"slide-fade"}},[1==t.tabs.selectedIndex?a("div",{staticClass:"block flex column",staticStyle:{position:"absolute"}},[a("div",{staticStyle:{"text-align":"center",padding:"10px"}},[a("strong",[t._v("Число случаев за день по континентам")])]),a("div",{staticClass:"block flex row",staticStyle:{width:"95vw"}},[a("apexchart",{ref:"refChatContinent",staticClass:"grow1",attrs:{type:"treemap",width:"100%",height:"100%",options:t.ChatContinent.chartOptions,series:t.ChatContinent.series}}),a("div",{staticClass:"block flex column grow1"},[a("div",[t._v(t._s(t.ChatContinent.continent))]),a("stat",{attrs:{data:t.ChatContinent.stat}}),a("div",{},[t._v("Страны")]),a("div",{staticClass:"countries small"},t._l(t.ChatContinent.countries,(function(e,n){return a("span",{key:"co"+n,staticStyle:{padding:"10px 10px 0 0"}},[t._v(t._s(e))])})),0)],1)],1)]):t._e()])],1)]):t._e()])],1)},r=[],o=a("1da1"),i=(a("96cf"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block fields"},[a("div",{staticClass:"field-group"},[a("waField",{attrs:{name:"Последнее обновление",value:t.formatDate(t.data.updated)}}),a("waField",{attrs:{name:"Сделано тестов",value:t.formatNumber(t.data.tests)}}),a("waField",{attrs:{name:"Случаи",value:t.formatNumber(t.data.cases)}}),a("waField",{attrs:{name:"Умерло",value:t.formatNumber(t.data.deaths)}}),a("waField",{attrs:{name:"Состоят на лечении",value:t.formatNumber(t.data.active)}}),a("waField",{attrs:{name:"Выздоровевшие",value:t.formatNumber(t.data.recovered)}}),a("waField",{attrs:{name:"Сегодня умерло",value:t.formatNumber(t.data.todayDeaths)}}),a("waField",{attrs:{name:"Сегодня выздоровело",value:t.formatNumber(t.data.todayRecovered)}})],1)])}),c=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"name"},[t._v(t._s(t.name))]),a("div",{staticClass:"value"},[t._v(t._s(t.value))])])},d=[],u={name:"waField",props:["name","value"]},h=u,p=a("2877"),C=Object(p["a"])(h,l,d,!1,null,null,null),f=C.exports,v={name:"stat",components:{waField:f},props:["data"],methods:{formatDate:function(t){return new Date(t).toLocaleString("ru",{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"})},formatNumber:function(t){return new Intl.NumberFormat("ru-RU").format(t)}}},m=v,b=Object(p["a"])(m,i,c,!1,null,null,null),y=b.exports,g={components:{stat:y},created:function(){this.updateData()},data:function(){return{tabs:{items:[{name:"Диаграмма"},{name:"Карта мира"}],selectedIndex:0},ChatAllDayAgo:{stat:{updated:-1,cases:-1,deaths:-1,active:-1,recovered:-1,todayDeaths:-1,todayRecovered:-1,tests:-1,error:!0},series:[1,1,1,1],chartOptions:{labels:["Случаи","Умерло","Состоят на лечении","Выздоровевшие"]}},ChatContinent:{error:!0,continent:"",stat:{},countries:[],data:{},series:[{data:[{x:"1",y:1},{x:"2",y:1},{x:"3",y:1},{x:"4",y:1},{x:"5",y:1},{x:"6",y:1}]}],chartOptions:{legend:{show:!1},chart:{height:350,type:"treemap",events:{dataPointMouseEnter:this.ChatContinent_dataPointMouseEnter}},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666"],plotOptions:{treemap:{distributed:!0,enableShades:!1}}}}}},methods:{tabClick:function(t,e){t.selectedIndex=e},updateData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.get("https://disease.sh/v3/covid-19/all");case 3:a=e.sent,t.ChatAllDayAgo.stat=t.createStat(a.data),t.ChatAllDayAgo.series=[t.ChatAllDayAgo.stat.cases,t.ChatAllDayAgo.stat.deaths,t.ChatAllDayAgo.stat.active,t.ChatAllDayAgo.stat.recovered],t.ChatAllDayAgo.stat.error=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.ChatAllDayAgo.stat.error=!0;case 12:return e.prev=12,e.next=15,t.axios.get("https://disease.sh/v3/covid-19/continents");case 15:n=e.sent,t.ChatContinent.data=n.data,s=[],t.ChatContinent.data.forEach((function(t){s.push({x:t.continent,y:t.cases})})),t.ChatContinent.stat=t.createStat(t.ChatContinent.data[0]),t.ChatContinent.series=[{data:s}],t.ChatContinent.error=!1,t.ChatContinent.countries=t.ChatContinent.data[0].countries,t.ChatContinent.continent=t.ChatContinent.data[0].continent,e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](12),t.ChatContinent.error=!0;case 29:case"end":return e.stop()}}),e,null,[[0,9],[12,26]])})))()},ChatContinent_dataPointMouseEnter:function(t,e,a){this.ChatContinent.stat=this.createStat(this.ChatContinent.data[a.dataPointIndex]),this.ChatContinent.countries=this.ChatContinent.data[a.dataPointIndex].countries,this.ChatContinent.continent=this.ChatContinent.data[a.dataPointIndex].continent},createStat:function(t){return{updated:t.updated,cases:t.cases,deaths:t.deaths,active:t.active,recovered:t.recovered,todayDeaths:t.todayDeaths,todayRecovered:t.todayRecovered,tests:t.tests}}}},x=g,w=(a("7b20"),Object(p["a"])(x,s,r,!1,null,"9ca1cb1e",null)),_=w.exports,A=a("bc3a"),D=a.n(A),O=a("2106"),k=a.n(O),S=a("1321"),j=a.n(S);n["a"].use(k.a,D.a),n["a"].use(j.a),n["a"].component("apexchart",j.a),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(_)}}).$mount("#app")},7800:function(t,e,a){},"7b20":function(t,e,a){"use strict";a("7800")}});
//# sourceMappingURL=app.js.map